import{s as z}from"./axios-Tk7nayK7.js";import{k as U,l as W,n as w,p as F,q as R,d as q,v as X,x as m,y as Y,c as o,z as E,A as I,m as M,r as H,s as J,u as Q,b as _,e as $,f as v,g as V,w as u,h as k,B as Z,C as K,D as ee,j as h,F as j,i as D,t as te,E as ne,G as ae}from"./index-DfML1GFj.js";const re=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:i,lineWidth:r}=e;return{[t]:w(w({},F(e)),{borderBlockStart:`${r}px solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${e.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${r}px solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${e.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${e.dividerHorizontalWithTextGutterMargin}px 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${r}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${t}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${r}px 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStart:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},ie=U("Divider",e=>{const t=W(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[re(t)]},{sizePaddingEdgeHorizontal:0}),oe=()=>({prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}),le=q({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:oe(),setup(e,t){let{slots:n,attrs:i}=t;const{prefixCls:r,direction:y}=X("divider",e),[s,g]=ie(r),b=m(()=>e.orientation==="left"&&e.orientationMargin!=null),p=m(()=>e.orientation==="right"&&e.orientationMargin!=null),S=m(()=>{const{type:a,dashed:l,plain:c}=e,d=r.value;return{[d]:!0,[g.value]:!!g.value,[`${d}-${a}`]:!0,[`${d}-dashed`]:!!l,[`${d}-plain`]:!!c,[`${d}-rtl`]:y.value==="rtl",[`${d}-no-default-orientation-margin-left`]:b.value,[`${d}-no-default-orientation-margin-right`]:p.value}}),x=m(()=>{const a=typeof e.orientationMargin=="number"?`${e.orientationMargin}px`:e.orientationMargin;return w(w({},b.value&&{marginLeft:a}),p.value&&{marginRight:a})}),C=m(()=>e.orientation.length>0?"-"+e.orientation:e.orientation);return()=>{var a;const l=Y((a=n.default)===null||a===void 0?void 0:a.call(n));return s(o("div",E(E({},i),{},{class:[S.value,l.length?`${r.value}-with-text ${r.value}-with-text${C.value}`:"",i.class],role:"separator"}),[l.length?o("span",{class:`${r.value}-inner-text`,style:x.value},[l]):null]))}}}),de=R(le);var se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};const ce=se;function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){ue(e,r,n[r])})}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(t,n){var i=G({},t,n.attrs);return o(I,G({},i,{icon:ce}),null)};B.displayName="CloudDownloadOutlined";B.inheritAttrs=!1;const fe=B;var he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const ge=he;function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){pe(e,r,n[r])})}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(t,n){var i=A({},t,n.attrs);return o(I,A({},i,{icon:ge}),null)};T.displayName="UploadOutlined";T.inheritAttrs=!1;const me=T,ve={class:"wrapper"},be={class:"upload-file"},_e={class:"download-file"},$e={key:1},Se={__name:"file",setup(e){const[t,n]=M.useMessage(),i=H([]),r=H([]),y=[{name:"文件名",key:"name"},{title:"操作",key:"action"}],{token:s,tokenModal:g}=J(Q());function b(a){s.value!==""?z({method:"POST",url:"upload/"+s.value,headers:{"Content-Type":"multipart/form-data"},data:a}).then(l=>{l===200?a.onSuccess("done",a):a.onError("error")}):(t.error("请先设置Token值!"),g.value=!0,i.value=[])}function p(){s.value!==""?(r.value=[],z({method:"GET",url:"get/file/"+s.value}).then(a=>{if(a.files!==null){const l=a.files.map(c=>({name:c}));r.value.push(...l)}else t.error("当前Token下没有文件!")})):(t.error("请先设置Token值!"),g.value=!0)}function S(a){window.open("/download/file/"+s.value+"/"+a,"_blank")}function x(a){z({method:"GET",url:"delete/file/"+s.value+"/"+a}).then(l=>{p()})}const C=a=>{a.file.status==="done"?M.success(`${a.file.name} 上传成功`):a.file.status==="error"&&M.error(`${a.file.name} 上传失败`)};return(a,l)=>{const c=Z,d=K,P=de,L=ee;return _(),$("div",ve,[o(v(n)),V("div",be,[o(d,{"file-list":i.value,"onUpdate:fileList":l[0]||(l[0]=f=>i.value=f),name:"file","custom-request":b,onChange:C},{default:u(()=>[o(c,null,{default:u(()=>[o(v(me)),h(" 点击上传 ")]),_:1})]),_:1},8,["file-list"])]),V("div",_e,[o(L,{columns:y,"data-source":r.value,pagination:!1},{headerCell:u(({column:f})=>[f.key==="name"?(_(),$(j,{key:0},[h(" 文件名 ")],64)):D("",!0)]),bodyCell:u(({column:f,record:O})=>[f.key==="name"?(_(),$(j,{key:0},[h(te(O.name),1)],64)):D("",!0),f.key==="action"?(_(),$("span",$e,[o(P,{type:"vertical"}),o(c,{type:"default",onClick:N=>S(O.name),icon:k(v(ne))},{default:u(()=>[h("下载")]),_:2},1032,["onClick","icon"]),o(P,{type:"vertical"}),o(c,{danger:"",onClick:N=>x(O.name),icon:k(v(ae))},{default:u(()=>[h("删除")]),_:2},1032,["onClick","icon"])])):D("",!0)]),_:1},8,["data-source"])]),o(c,{type:"primary",onClick:p,icon:k(v(fe))},{default:u(()=>[h("获取当前Token下所有文件 ")]),_:1},8,["icon"])])}}};export{Se as default};
